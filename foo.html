<!DOCTYPE html> <html lang=en> <head> <title>dc.js - Bar Chart Example</title> <meta charset=UTF-8> <link rel=stylesheet type=text/css href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.9/dc.css">  <body> <div class=row> <section class="col-lg-12 col-xs-12 connectedSortable"> <div class="box box-success"> <div class=box-header> <i class="fa fa-inbox"></i><strong>Test</strong> <a class=reset href=javascript:chart.filterAll();dc.redrawAll(); style="display: none">reset</a> </div> <div class=box-body> <div id=test class=dc-chart></div> </div> </div> </section> </div> <script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.js></script> <script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.11/crossfilter.js></script> <script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.9/dc.js></script> <script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js></script> <script src=scripts/main.706b942e.js></script> <script type=text/javascript>var chart = dc.barChart("#test");
d3.csv("https://dc-js.github.io/dc.js/examples/morley.csv", function(error, experiments) {

  experiments.forEach(function(x) {
    x.Speed = +x.Speed;
  });

  var ndx                 = crossfilter(experiments),
      runDimension        = ndx.dimension(function(d) {return +d.Run;}),
      speedSumGroup       = runDimension.group().reduceSum(function(d) {return d.Speed * d.Run / 1000;});

  chart
    .width(768)
    .height(480)
    .x(d3.scale.linear().domain([6,20]))
    .brushOn(true)
    .yAxisLabel("This is the Y Axis!")
    .dimension(runDimension)
    .group(speedSumGroup);
    
    //
    // chart.turnOnControls = function () {
    //     var grandparent = chart.root()[0][0].parentNode.parentNode;
    //     grandparent = this.root()[0][0].parentNode.parentNode;
    //     d3.select(grandparent).selectAll('.reset').style('display', null);
    //     d3.select(grandparent).selectAll('.filter')
    //       .text(chart.filterPrinter(this.filters())).style('display', null);
    //     return chart;
    // };
    //
    // chart.turnOffControls = function () {
    //     var grandparent = chart.root()[0][0].parentNode.parentNode;
    //     d3.select(grandparent).selectAll('.reset').style('display', 'none');
    //     d3.select(grandparent).selectAll('.filter')
    //       .style('display', 'none').text(chart.filter());
    //     return chart;
    // };
    //
      
    chart.render();
});</script>  